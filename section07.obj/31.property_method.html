<!DOCTYPE html>
<html lang="ko">
    <!--
		# 객체 프로퍼티(property)
		모든 자바스크립트 객체는 Object 객체와 Object.prototype 객체의 모든 프로퍼티를 상속받는다.

		# 객체 메소드(method)

		1. hasOwnProperty()
		2. propertyIsEnumerable()
		3. isPrototypeOf()
		4. isExtensible()
		5. toString()
		6. valueOf()
	-->
<head>
	<meta charset="UTF-8">
	<title>JavaScript Object Method</title>
</head>
<body>
	<!-- 1. hasOwnProperty() : 특정 프로퍼티가 해당 객체에 존재하는지를 검사 -->
	<h1>객체의 hasOwnProperty() 메소드</h1>
	<script>
		function Dog(color, name, age, family) {
			this.color = color;
			this.name = name;
			this.age = age;
			this.family = family;
			this.breed = function() { return this.color + " " + this.family; }
		}
		var myDog = new Dog("검정색", "곰", 3, "불독");

		document.write(myDog.hasOwnProperty("color") + "<br>");	// true
		document.write(myDog.hasOwnProperty("breed") + "<br>");	// true
		document.write(myDog.hasOwnProperty("class"));			// 상속받은 속성이므로 false를 반환함.
	</script>

	<!-- 2. propertyIsEnumerable() :  특정 프로퍼티가 해당 객체에 존재하고, 열거할 수 있는 프로퍼티인지를 검사-->
	<h1>객체의 propertyIsEnumerable() 메소드</h1>
	<script>
		function Dog2(color, name, age) {
			this.color = color;
			this.name = name;
			this.age = age;
		}
		var myDog = new Dog2("흰색", "마루", 1);
		// color 프로퍼티의 enumerable 속성을 false로 설정함.
		Object.defineProperty(myDog, 'color', { enumerable : false} );
		
		document.write(myDog.propertyIsEnumerable("color") + "<br>");	// false
		document.write(myDog.propertyIsEnumerable("name") + "<br>");	// true
		document.write(myDog.propertyIsEnumerable("age"));				// true
	</script>

	<!-- 3. isPrototypeOf() : 특정 객체의 프로토타입 체인에 현재 객체가 존재하는지를 검사 -->
	<h1>객체의 isPrototypeOf() 메소드</h1>
	<script>
		var day = new Date(); 	// Date 객체를 생성함.
		
		// 객체 day의 프로토타입이 Date.prototype인지를 검사함.
		document.write(Date.prototype.isPrototypeOf(day) + "<br>");	// true
		document.write(Date.prototype.isPrototypeOf(new String()));	// false
	</script>

	<!-- 4. isExtensible() : 객체에 새로운 프로퍼티를 추가할 수 있는지 여부를 반환 -->
	<h1>객체의 isExtensible() 메소드</h1>
	<script>
		var day = new Date(); 	// Date 객체를 생성함.
		// 객체 day에 새로운 프로퍼티를 추가할 수 있는지 검사함.
		document.write(Object.isExtensible(day) + "<br>");	// true

		// 해당 객체에 새로운 프로퍼티를 추가할 수 없도록 설정함.
		var myDay = Object.preventExtensions(day);
		document.write(Object.isExtensible(day));			// false
	</script>

	<!-- 5. toString() -->
	<h1>객체의 toString() 메소드</h1>
	<script>
		var arr = [10, "문자열", true];		// 배열
		var bool = false;					// 불리언
		function func() {					// 함수
			return 0;
		}

		document.write(arr.toString() + "<br>");	// 10,문자열,true
		document.write(bool.toString() + "<br>");	// false
		document.write(func.toString());			// 함수의 소스 코드가 전부 문자열로 반환됨.
	</script>

	<!-- 6. valueOf() : 특정 객체의 원시 타입(primitive type)의 값을 반환 -->
	<h1>객체의 valueOf() 메소드</h1>
	<script>
		function func(n) {
			this.number = n;
		}

		myFunc = new func(4);
		document.write(myFunc + 5);		// (가)

		func.prototype.valueOf = function() {	// (나)
			return this.number;
		}
		document.write("<br><br>")
		document.write(myFunc + 5);		// (다)
	</script>
	<!--
		(가) 산술 연산을 위해 number 타입의 값을 기대하는 곳에 myFunc 객체가 사용된다.
		따라서 내부적으로 해당 객체의 valueOf() 메소드를 호출한다.
		하지만 이 객체의 valueOf() 메소드는 아직 정의되지 않았으므로, 해당 객체 자신을 반환한다.
		따라서 산술 연산이 아닌 문자열 결합 연산이 수행된다.

		(나) prototype 프로퍼티를 이용하여 valueOf() 메소드를 정의한다.
		(다) 내부적으로 호출된 valueOf() 메소드가 해당 객체의 number 프로퍼티 값을 반환한다.
		따라서 정상적으로 산술 연산이 수행된다.
	-->


	<!--
		# getter와 setter 메소드의 정의
		- 단순한 값을 지닌 데이터 프로퍼티와는 달리 접근자 프로퍼티라고 부른다.

		- getter 메소드는 특정 프로퍼티의 값을 받아오기 위한 메소드
		- 객체의 프로퍼티 값에 접근할 때 getter 메소드에 아무런 인수를 전달하지 않고 호출한다.

		- setter 메소드는 특정 프로퍼티의 값을 설정하기 위한 메소드
		- 객체의 프로퍼티 값을 변경할 때 setter 메소드에 대입하고자 하는 값을 인수로 전달하여 호출한다.
	-->
	<h1>getter 메소드</h1>
	<script>
		var gildong = { age: 18 };
		document.write(gildong.age + "<br>");	// 18

		Object.defineProperty(gildong, "americanAge", { get: function() { return this.age - 1; } });
		document.write(gildong.americanAge);	// 17
	</script>

	<h1>setter 메소드</h1>
	<script>
		var gildong = { age: 18 };

		gildong.age = 20;
		document.write(gildong.age + "<br>");	// 20

		Object.defineProperty(gildong, "changeAge", { set: function(n) { this.age = this.age - n; } });
		gildong.changeAge = 5;
		document.write(gildong.age);			// 15
	</script>
</body>
</html>